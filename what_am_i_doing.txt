PHASE-1: 
    api capabillites:  
        post /items/ -> creates a new key-value partia
        get /items/{key} -> retrieve value by key. 
        put /items/{key} -> update value by key
        delete /items/{key} -> delete key 
        get /items/ -> list all items(paginated)


        pagination rules: 
        -Query parms: 
            page(default=1)
            page_size(defautl = 10, max = 100)
        -responce includes: 
            items
            total count 
            page metadata
            
    non-functional Requirements(how well it performing) 
        -performance: 
            fast reads 
            indexed key lookup
            minimal ORM overhead
        -Reliability
            Graceful handling of: 
            DB failures
            network failures
            rate limiting

    Rate_limiting rules: 
        Applies to: /items/*
        limit 60 requests / min / client
        client identified by: 
            ip address( for simplicity_) 
        if exceeds
            return http-429 too many request 
            include retry hint. 
    Data Model Design (very imp) 
        key-value table 
            key -> string, unique, indexed
            value -> string/text 
            created_at 
            updated_at
        Rules: 
            Duplicate keys not allowed
            updates overwrite the value 
            delete are permenent. 

    Architecture:
        python cliet _> fastapi -> django orm -> postgresql


    FINAL TECH STACK : 
        fastapi for api 
        django ORM (without Django server)
        PostgreSql (default, MYsql-compatible)
        REST (no graphql) 
        sync api (async optional later )

PHASE-2: 
    fastapi, 
    uvicorn, 
    django for ORM, 
    psycopg2-binary for postgre sql driver 
    python-dotenv -> env config. 



creating the postgre sql database; 
CREATE TABLE items (
    id SERIAL PRIMARY KEY,
    key TEXT UNIQUE NOT NULL,
    value TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

